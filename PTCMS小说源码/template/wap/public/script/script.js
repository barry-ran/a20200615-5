!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.echo=e(t)}(this,function(t){"use strict";var e,n,o,r,c,a={},u=function(){},d=function(t){return null===t.offsetParent},l=function(t,e){if(d(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},i=function(){(r||!n)&&(clearTimeout(n),n=setTimeout(function(){a.render(),n=null},o))};return a.init=function(n){n=n||{};var d=n.offset||0,l=n.offsetVertical||d,f=n.offsetHorizontal||d,s=function(t,e){return parseInt(t||e,10)};e={t:s(n.offsetTop,l),b:s(n.offsetBottom,l),l:s(n.offsetLeft,f),r:s(n.offsetRight,f)},o=s(n.throttle,250),r=n.debounce!==!1,c=!!n.unload,u=n.callback||u,a.render(),document.addEventListener?(t.addEventListener("scroll",i,!1),t.addEventListener("load",i,!1)):(t.attachEvent("onscroll",i),t.attachEvent("onload",i))},a.render=function(n){for(var o,r,d=(n||document).querySelectorAll("[data-echo], [data-echo-background]"),i=d.length,f={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},s=0;i>s;s++)r=d[s],l(r,f)?(c&&r.setAttribute("data-echo-placeholder",r.src),null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+r.getAttribute("data-echo-background")+")":r.src!==(o=r.getAttribute("data-echo"))&&(r.src=o),c||(r.removeAttribute("data-echo"),r.removeAttribute("data-echo-background")),u(r,"load")):c&&(o=r.getAttribute("data-echo-placeholder"))&&(null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+o+")":r.src=o,r.removeAttribute("data-echo-placeholder"),u(r,"unload"));i||a.detach()},a.detach=function(){document.removeEventListener?t.removeEventListener("scroll",i):t.detachEvent("onscroll",i),clearTimeout(n)},a});window.onload=function(){echo.init({offset:100,throttle:100,unload:false});searchCheck();menuSwitch();toggleSearch();setLastRead();getFileUrl();userLoginStatus();indexTab();clickNum();showHistoryForDiv();if(typeof(thisPage)!="undefined"){readPageer(thisPage,zcount,prevpage,nextpage,indexpage,cid,bid)}var ad_html='<div style="font-size: 0.75rem;text-align: center;background: #fff;color: #888;padding: 0.375rem;margin-top: 0.375rem">\u6b22\u8fce\u8bbf\u95ee\u7535\u5b50\u4e66\u5c4b <span style="color: #f60">'+window.location.host+'</span> \u8bb0\u5f97\u6536\u85cf\u54e6</div>';var sop_cell=document.getElementsByClassName('sop-cell')[0];if(sop_cell){sop_cell.innerHTML=ad_html}};function toggleChapter(number){var chapterListBlock=document.getElementById('chapter-block'),spt=document.getElementById('spt'),nowStyle=chapterListBlock.style.display;nowStyle=number?'none':nowStyle;if(nowStyle=='none'||nowStyle==''){chapterListBlock.style.display='block';spt.innerText='\u6536\u8d77\u76ee\u5f55'}else{chapterListBlock.style.display='none';spt.innerText='\u5c55\u5f00\u76ee\u5f55'}}function toggleSearch(){var soBtn=document.getElementById('toggle-search'),soBlock=document.getElementById('search-block');if(soBtn){soBtn.onclick=function(){soBlockStyle=soBlock.style.display;cssStr=soBlockStyle=='none'||soBlockStyle==''?'block':'none';document.getElementById('nav-switch').style.display='none';document.getElementById('toggle-nav').className='icon icon-more';soBlock.style.display=cssStr}}}function userLoginStatus(){var isLoginEle=document.getElementsByClassName('icon-person')[0];if(!isLoginEle)return;var xhr=xhrObj();xhr.open('GET','/e/member/login/loginjs.php');xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){var data=JSON.parse(xhr.responseText);if(data.code==1){isLoginEle.href='/u/cp/';isLoginEle.style.color='#ed424b'}else{isLoginEle.href='/u/login/'}}};xhr.send()}function clickNum(){var obj=document.getElementById('book-detail');if(obj){var xhr=xhrObj();var bookInfosEle=document.getElementById('book-detail');var cid=bookInfosEle.getAttribute('data-cid');var bid=bookInfosEle.getAttribute('data-bid');var url='/e/public/ViewClick?classid='+cid+'&id='+bid;xhr.open('GET',url);xhr.onreadystatechange=function(){};xhr.send()}}function xhrObj(){var xhr;if(window.XMLHttpRequest){xhr=new XMLHttpRequest}else{var ver=["Microsoft.XMLHTTP","Msxml2.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.6.0"];for(var i in ver){try{xhr=new ActiveXObject(ver[i])}catch(e){}}}return xhr}function searchCheck(){var addform=document.getElementsByClassName('search-guide')[0];if(!addform)return;addform.onsubmit=function(){if(addform.q.value.length<2){alert("\u8bf7\u8f93\u5165\u4e66\u540d\u6216\u4f5c\u8005\u540e\u5c1d\u8bd5\u641c\u7d22");addform.q.focus();return false}}}function menuSwitch(){var navObj=document.getElementById('nav-switch'),sosuo=document.getElementById('search-block'),btn=document.getElementById('toggle-nav');if(sosuo){sosuo.style.display='none'}btn.onclick=function(){var ncss=navObj.style.display;if(ncss=='none'||ncss==''){navObj.style.display='block';btn.className='icon icon-more active'}else{navObj.style.display='none';btn.className='icon icon-more'}}}function getFileUrl(){var fileEle=document.getElementById('download-txt');if(!fileEle)return;var bookInfosEle=document.getElementById('book-detail');var bid=bookInfosEle.getAttribute('data-bid');fileEle.onclick=function(){window.open('/down/'+bid+'.html','_self')}}function setLastRead(){var bookinfo={};var bookInfosEle=document.getElementById('book-detail');if(!bookInfosEle)return;bookinfo.cid=bookInfosEle.getAttribute('data-cid');bookinfo.bid=bookInfosEle.getAttribute('data-bid');if(bookinfo==false)return;var _history=getCookiesWithKey("ReadHistory","");if(_history=="")return;var _json=eval(unescape(_history));if(_json==null)return;for(i=0;i<_json.length;i++){if(_json[i].bid==bookinfo.bid){if(_json[i].bid=="")return;var url="/read/"+bookinfo.cid+"/"+bookinfo.bid+"/"+_json[i].aid+".html";var lastReadEle=document.getElementById('last-read');if(!lastReadEle){return}var continueReading=document.getElementById('continue-reading');lastReadEle.style.display='block';continueReading.innerHTML='\u7ee7\u7eed\u9605\u8bfb';continueReading.setAttribute('href',url);lastReadEle.innerHTML='<div class="title">\u5df2\u9605\u8bfb '+_json[i].name+' \u81f3 <a href="'+url+'">'+_json[i].title+'</a></div>';return}}}function getCookiesWithKey(key,c_name){if(document.cookie.length>0){var k_start=document.cookie.indexOf(key+"=");if(k_start==-1)return"";k_start=k_start+key.length+1;var k_end=document.cookie.indexOf(";",k_start);if(k_end==-1)k_end=document.cookie.length;var cookiesWithKey=unescape(document.cookie.substring(k_start,k_end));if(c_name=="")return cookiesWithKey;var cookies=cookiesWithKey.split("&");for(var i=0;i<cookies.length;i++){if(cookies[i].split("=")[0]==c_name){return cookies[i].split("=")[1]}}}return''}function getCookie(name){var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");if(arr=document.cookie.match(reg))return unescape(arr[2]);else return null}function getReadHistory(){var _history=getCookie("ReadHistory");if(_history=="")return null;_history=unescape(_history);return eval(_history)}var tabs=function(){function tag(name,elem){return(elem||document).getElementsByTagName(name)}function id(name){return document.getElementById(name)}function first(elem){elem=elem.firstChild;return elem&&elem.nodeType==1?elem:next(elem)}function next(elem){do{elem=elem.nextSibling}while(elem&&elem.nodeType!=1);return elem}return{set:function(elemId,tabId){var elem=tag("h3",id(elemId));var tabs=tag("ol",id(tabId));var listNum=elem.length;var tabNum=tabs.length;for(var i=0;i<listNum;i++){elem[i].onclick=(function(i){return function(){for(var j=0;j<tabNum;j++){if(i==j){tabs[j].className="novel-slide-ol active";elem[j].firstChild.className="btn-tab active"}else{tabs[j].className="novel-slide-ol";elem[j].firstChild.className="btn-tab"}}}})(i)}}}}();function indexTab(){if(document.getElementById('classic-element')){for(var i=1;i<3;i++){tabs.set("group"+i,"tab"+i)}}}function addFav(){var bookInfosEle=document.getElementById('book-detail');cid=bookInfosEle.getAttribute('data-cid');bid=bookInfosEle.getAttribute('data-bid');window.open('/addfava/?classid='+cid+'&id='+bid,'_self')}function readPageer(thisPage,zcount,prevpage,nextpage,indexpage,cid,bid){var alink='';for(var x=1;x<=zcount;x++){if(thisPage==x){alink+='<option value="/read/'+cid+'/'+bid+'/'+x+'.html" selected="selected">\u7b2c'+x+'\u8282</option>'}else{alink+='<option value="/read/'+cid+'/'+bid+'/'+x+'.html">\u7b2c'+x+'\u8282</option>'}}document.getElementById('cpage').innerHTML=alink;var jump_html=document.getElementById('top-jump-page').innerHTML;document.getElementById('bottom-jump-page').innerHTML=jump_html;document.onkeydown=pageEvent;function pageEvent(evt){evt=evt||window.event;var key=evt.which||evt.keyCode;if(key==37){location=prevpage}if(key==39){location=nextpage}if(key==13){location=indexpage}}}function setHistoryDiv(){var asideTrigger=document.getElementById('aside-trigger');var aside=document.getElementById('aside');if(asideTrigger){var styles=aside.style.display;if(styles==null||styles=='block'){aside.style.display='none';document.body.style.overflowY=''}else{aside.style.display='block';document.body.style.overflowY='hidden'}}}function showHistoryForDiv(){var obj=document.getElementById('last-read-book');if(obj){var _json=getReadHistory();if(!_json){return}var html='';for(var i=0;i<_json.length;i++){html+='<li class="book-li"><a href="/read/'+_json[i].cid+'/'+_json[i].bid+'/'+_json[i].aid+'.html" class="book-layout"><div class="book-cell"><span class="book-title-r">\u7ee7\u7eed\u9605\u8bfb</span><h4 class="book-title">'+_json[i].name+'</h4></div><div class="book-meta">\u5df2\u8bfb\u672c\u4e66\u5230 '+_json[i].title+'</div></a></li>'}obj.innerHTML=html}}eval(function(p,a,c,k,e,r){e=function(c){return c.toString(a)};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('1 5=5||[];(f(){1 a=4.9("6");a.8="e://3.b.c/3.d?7";1 2=4.g("6")[0];2.h.i(a,2)})();',19,19,'|var|s|hm|document|_hmt|script|193055195c00cddd152222bcf55c28fd|src|createElement||baidu|com|js|https|function|getElementsByTagName|parentNode|insertBefore'.split('|'),0,{}));(function(){ var bp = document.createElement('script'); var curProtocol = window.location.protocol.split(':')[0]; if (curProtocol === 'https') { bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'; } else { bp.src = 'http://push.zhanzhang.baidu.com/push.js'; } var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(bp, s); })();